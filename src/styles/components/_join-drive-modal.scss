// ========================================
// Component - Join Drive Modal
// Swiss Luxury Spa Design System
// ========================================

@use '../abstracts' as *;

// ----------------------------------------
// Modal Structure
// ----------------------------------------
.join-drive-overlay {
    @include modal-overlay;
}

.join-drive-modal {
    @include modal-container($modal-width-sm);

    .modal-close {
        @include modal-close-button;
    }
}

// ----------------------------------------
// Header - Compact icon layout
// ----------------------------------------
.join-drive-modal .modal-header {
    display: flex;
    align-items: flex-start;
    gap: $space-3;
    padding: $modal-padding-x;
    padding-right: $space-12;
    border-bottom: none;

    .modal-icon {
        flex-shrink: 0;
        color: $accent;

        svg {
            width: $icon-lg;
            height: $icon-lg;
        }
    }

    .modal-text {
        flex: 1;
        min-width: 0;
    }

    h2 {
        font-size: $text-base;
        font-weight: $weight-semibold;
        color: $text-primary;
        margin: 0 0 $space-0-5;
        letter-spacing: $tracking-tight;
    }

    .modal-subtitle {
        font-size: $text-xs;
        color: $text-muted;
        line-height: $leading-snug;
        margin: 0;
    }
}

// ----------------------------------------
// Content Area
// ----------------------------------------
.modal-content {
    padding: 0 $modal-padding-x $modal-padding-x;
    min-height: 100px;
}

// ----------------------------------------
// Input State
// ----------------------------------------
.input-section {
    .token-input-group {
        display: flex;
        gap: $space-2;
        margin-bottom: $space-4;
    }

    .token-input {
        flex: 1;
        padding: $space-2-5 $space-3;
        background: $bg-secondary;
        border: 1px solid $border-primary;
        border-radius: $radius-md;
        color: $text-primary;
        font-size: $text-xs;
        font-family: $font-mono;
        transition: border-color $transition-fast, background $transition-fast;

        &::placeholder {
            color: $text-muted;
        }

        &:hover {
            border-color: $border-hover;
        }

        &:focus {
            outline: none;
            border-color: $accent;
            background: $bg-primary;
        }
    }

    .paste-btn {
        @include flex-center;
        padding: $space-2-5;
        background: $bg-secondary;
        border: 1px solid $border-primary;
        border-radius: $radius-md;
        color: $text-secondary;
        cursor: pointer;
        transition: all $transition-fast;

        &:hover {
            background: $bg-tertiary;
            color: $text-primary;
        }
    }
}

// ----------------------------------------
// Loading State
// ----------------------------------------
.loading-section {
    @include flex-column-center;
    gap: $space-3;
    padding: $space-6 0;
    color: $text-secondary;

    .spinning {
        @include spin;
        color: $accent;
        width: $icon-lg;
        height: $icon-lg;
    }

    p {
        font-size: $text-xs;
        font-weight: $weight-medium;
        color: $text-muted;
    }
}

// ----------------------------------------
// Preview State
// ----------------------------------------
.preview-section {
    .invite-details {
        background: $bg-secondary;
        border: 1px solid $border-primary;
        border-radius: $radius-lg;
        padding: $space-3;
        margin-bottom: $space-4;
    }

    .detail-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: $space-2 0;

        &:first-child {
            padding-top: 0;
        }

        &:last-child {
            padding-bottom: 0;
            border-bottom: none;
        }

        &:not(:last-child) {
            border-bottom: 1px solid $border-subtle;
        }
    }

    .detail-label {
        @include text-label;
        display: flex;
        align-items: center;
        gap: $space-1-5;
        font-size: $text-2xs;

        svg {
            color: $text-muted;
            opacity: 0.8;
        }
    }

    .detail-value {
        font-size: $text-xs;
        color: $text-primary;
        font-weight: $weight-medium;
        font-family: $font-mono;

        &.permission-badge {
            background: $accent-soft;
            color: $accent;
            padding: $space-0-5 $space-2;
            border-radius: $radius-full;
            font-size: $text-2xs;
            font-weight: $weight-semibold;
            font-family: $font-sans;
        }
    }
}

// ----------------------------------------
// Success State
// ----------------------------------------
.success-section {
    @include flex-column-center;
    gap: $space-3;
    padding: $space-5 0;

    .success-icon {
        @include flex-center;
        width: 40px;
        height: 40px;
        color: $success;

        svg {
            width: $icon-xl;
            height: $icon-xl;
            stroke-width: 1.5;
        }
    }

    h3 {
        font-size: $text-base;
        font-weight: $weight-semibold;
        color: $text-primary;
        margin: 0;
    }

    p {
        font-size: $text-xs;
        color: $text-muted;
        margin: 0;
        text-align: center;
        line-height: $leading-snug;
    }
}

// ----------------------------------------
// Error State
// ----------------------------------------
.error-section {
    @include flex-column;
    gap: $space-4;

    .error-content {
        display: flex;
        align-items: center;
        gap: $space-3;
        padding: $space-3;
        background: $error-soft;
        border: 1px solid $error-border;
        border-radius: $radius-md;
    }

    .error-icon {
        color: $error;
        width: $icon-md;
        height: $icon-md;
        flex-shrink: 0;
    }

    .error-message {
        font-size: $text-xs;
        color: $error;
        font-weight: $weight-medium;
        line-height: $leading-snug;
        flex: 1;
    }
}

// ----------------------------------------
// Actions
// ----------------------------------------
.join-drive-modal .modal-actions {
    display: flex;
    gap: $space-2;
    justify-content: flex-end;
    margin-top: $space-4;
}
// ========================================
// Component - Sync Status Bar
// Swiss Luxury Spa Design System
// ========================================

@use '../abstracts' as *;

.sync-status-bar {
    @include flex-between;
    padding: $space-2 $space-4;
    background: $bg-secondary;
    border-bottom: 1px solid $border-subtle;
    font-size: $text-xs;
    gap: $space-3;
    min-height: $button-height;
    position: relative;

    @include respond-to('lg') {
        flex-wrap: wrap;
        padding: $space-2 $space-3;
    }

    .sync-status-left {
        @include flex-start;
        gap: $space-3;
        flex: 1;
        min-width: 0;
        
        @include respond-to('lg') {
            gap: $space-2;
        }
        
        @include respond-to('md') {
            flex: 1 1 100%;
            order: 1;
        }
    }
    
    .sync-status-right {
        @include flex-start;
        gap: $space-2;
        flex-shrink: 0;
        padding-right: 0;
        transition: padding-right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        
        @include respond-to('lg') {
            padding-right: 0;
            order: 2;
        }
        
        @include respond-to('md') {
            flex: 1 1 auto;
        }
    }
    
    .sync-indicator {
        @include flex-start;
        gap: $space-2;
        padding: $space-1-5 $space-3;
        border-radius: $radius-full;
        font-weight: $weight-semibold;
        font-size: $text-2xs;
        text-transform: uppercase;
        letter-spacing: $tracking-wider;
        transition: all $transition-base;
        
        &.syncing {
            color: $success;
            background: $success-soft;
            border: 1px solid $success-border;
        }
        
        &.offline {
            color: $text-muted;
            background: $bg-tertiary;
            border: 1px solid $border-subtle;
        }
        
        svg {
            flex-shrink: 0;
        }
        
        .sync-pulse {
            width: 6px;
            height: 6px;
            border-radius: $radius-full;
            background: currentColor;
        }
    }
    
    .status-divider {
        width: 1px;
        height: $space-5;
        background: $border-subtle;
    }
    
    .peer-count {
        @include flex-start;
        gap: $space-1-5;
        padding: $space-1 $space-2-5;
        border-radius: $radius-xl;
        background: $bg-tertiary;
        color: $text-secondary;
        font-weight: $weight-medium;
        
        svg {
            opacity: 0.7;
        }
        
        span {
            min-width: 14px;
            text-align: center;
        }
    }
    
    .last-sync {
        @include flex-start;
        gap: $space-1-5;
        color: $text-muted;
        font-size: $text-2xs;
        
        svg {
            color: $success;
        }
    }
    
    .sync-error {
        @include flex-start;
        gap: $space-1-5;
        padding: $space-1 $space-2-5;
        border-radius: $radius-xl;
        background: $error-soft;
        color: $error;
        font-size: $text-2xs;
        font-weight: $weight-medium;
    }
    
    .btn-status {
        @include flex-start;
        gap: $space-1-5;
        padding: $space-1-5 $space-3-5;
        border: 1px solid $border-primary;
        border-radius: $radius-lg;
        background: $bg-primary;
        color: $text-secondary;
        font-size: $text-xs;
        font-weight: $weight-medium;
        cursor: pointer;
        transition: all $transition-base;
        
        &:hover:not(:disabled) {
            background: $bg-hover;
            color: $text-primary;
            border-color: $border-hover;
        }
        
        &.active {
            background: $accent-soft;
            border-color: rgba($accent, 0.3);
            color: $accent;
        }
        
        &:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        svg {
            flex-shrink: 0;
        }
    }
}

.spinning {
    @include spin;
}

.spinning-slow {
    animation: spin 3s linear infinite;
}
